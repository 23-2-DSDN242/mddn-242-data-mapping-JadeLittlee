# A Cat's Life by Jade Little
## Creative Coding 2: Custom Pixel filter & AI Camera

The concept:

As this project focuses on creating an AI camera based on a theme that is personal to me, I have chosen to focus on my cat, Felicity. The theme is 'A Cat's Life'. The objective was to showcase how cat's have it easy in life, and don't have many worries in the world – unlike us humans. My cat is constantly sleeping on/in our beds, and under/on blankets. She has two sides to her, a sassy side, and a very sweet loving side. For this project – since I wanted to highlight a cat's chill life – I've decided to play off of Felicity's sweet side. Therefore, I'm aiming to apply a softness to Felicity, and the rest of the image, but keeping the halo around her bright, and perhaps soften the edges to blend in with the background. 


Using AI to generate masks:

For the AI-generated masks, I had success straight away when inputing images and masks of just my cat. The AI was able to successfully identify that I wanted to hightlight just my cat, and not anything else in the background. Just highlighting a cat was quite a simple idea for an AI camera, as if the AI saw any cat it would create a mask for that cat and the code would apply the custom pixel design I've created to all cats. I didn't want a simple and boring AI camera – in terms of what was recognised by the AI – therefore, I decided to train the AI to recognise just my cat Felicity. So, if I were to use this AI camera to scan over multiple cats, then my custom pixel design would just be applied to Felicity. Since this project is centered on photographs/themes within photographs that are important to me, it makes more sense to have the AI camera just recognise my cat, as she is very important to me. 

To create this AI camera I had to photoshop other photos of cats – that I had, and some images from online – with my cat. I then created masks of just my cat in each of the photoshopped images with multiple cats in them – in the hope that the AI would generate a mask of just my cat in the fourth image that I inputed. This experiment worked really well on the first go, as the AI was able to work out what I wanted it to do, and therefore created a mask of just my cat in the image I inputed – not the other cat in the background. 

After further AI testing, I wanted to make sure the AI would continue to just create a mask of my cat even when she was in the background and another cat was in the foreground. However, when I tested this, the outcome wasn't what I suspected. What happened is the AI got confused as to which cat to highlight, and therefore higlighted both the cats in the image, not just my cat (who was in the background). I thought I had managed to train the AI successfully after the first attempt that worked, but clearly after this second attempt, I needed to test more until I was confident the AI would identify my cat every time. 

I did another round of AI testing to try and get the AI to recognise just my cat when it creates a mask. However, yet again I had another failed attempt. I wanted to test whether my AI camera would just recognise my cat everytime, so I fed the Ai images and masks that higlighted my cat, but had another cat in the foreground. However, the AI kept getting confused and highlighted my cat and the other cat in the image. After getting some feedback/questioning why this might have happened, there was the suggestion that perhaps the AI was getting confused because all the cats in the image with my black and white cat, had a fair bit of white on them as well. So maybe the AI thought all the cats looked too similar and therefore highlighted my cat and the other cat. When I did my next test I fed the AI sample images that included some ginger cats in the hope that the AI would realise that the ginger cat and my cat were different. I had success this time! The AI was able to highlight just my cat and not the ginger cat, which is awesome!!


Designing the custom filter that is applied to all my six images:

For the stylistic features of my custom pixel design, I knew I wanted a halo around Felicity. I tried creating a yellow halo around her originally using large ellipses behind the mask of my cat. This worked and looked like a halo, but it was very flat in colour. Instead, I wanted the halo to glow, so I have decided that I need to start at white at the center of my cat, and progress out into yellow at different transparency's. The yellow starts really light and translucent and gets more opaque the closer to the border of the halo you get – but the yellow is never fully opaque, to help with the glowing look. The halo is made up of ellipses all starting at the center of my cat and getting larger (larger circumfrance) each time to form the glowing halo.  

I tried out this halo idea that I've stated above. I was going to have the halo be behind the whole of Felicity, but as I was working on the halo, I quite liked how it looked when it didn't go behind all of my cat. Instead, the halo covers 3/4 of her. At this point the colours of the halo needed further tweaking, so that I was able to achieve the glowing effect I wanted. Despite my original idea to have the halo act almost like a secondary mask around the cat (adpating to the outline of the shape of my cat), as I worked away at this halo design, I quickly realised that I actually liked more of this circular god-like halo – like you'd see in a lot of biblical paintings. After some technical difficulties and some feedback on the halo made up of ellipses, I have changed the halo so that it utilises transparency – which gives more of a glowing effect, creating that feeling of my cat being a godess. 

As I stated above, I wanted Felicity to have a softness to her, but when I intially started creating my pixelation design I wasn't achieving that softness. I started using small horizontal lines that showcased where Felicity was in the picture, but these lines were too harsh – so didn't exemplify the softness I aimed for. However, it was good to try out using lines initially to understand the coding framework. Therefore, I switched to ellipses at about 30pt, but these were all very opaque and weren't quite looking right. The ellipses were softer than the lines, but still looked too harsh. I decided to see what 10pt ellipses looked like, and these were better than the 30pt ellipses, at achieving my aim, but still not quite right. What I hoped to do from here, was to mess around with the opacity of the ellipses to get more of a blurry effect to create a soft look.  

For the background, at this point I just had the background grayed out, as I wasn't sure what I wanted to do with the background yet. An idea I had was to keep the background in grayscale, and then make it blurry/washed out so that Felicty and her halo are purely the focus. I'd like to use more ellipses in a large scale to aid in the blurry look, and make the background fade away.  

I tested out the blurry look, using code that was demonstrated in class, for the background and it was looking good. However, loading the blurry background was very slow and kept crashing my browser whenever I tried to apply the blur to the whole 1920 x 1080 of my background. I'd been using a smaller offset for the pixels to create this blur, and yet it was still crashing and not at the level of blur I was wanting. As my code kept breaking and the amount of blur wasn't what I wanted at a small offset, I decided that I would scrap the blur idea, as it was more hassle than it was worth for the result I was getting. Instead, I'll try out an ellipse(s) in the background that use transparency, so that I get that washed out/blurry look I'm after. 

I tested out the look of 6 large ellipses (between sizes 700 and 1200 in diameter) with various levels of opacity for a couple different shades of grey. This turned out really nice and gave another level of softness to the piece overall, whilst also achieving the faded/blurry look in the background that I was trying to achieve. I also like how – unlike the blurry method I tried and talked about above – this approach with grey ellipses loads way faster and gives me a better effect. After receiving some feedback on the design of my custom filter overall,  I adjusted the background so that the original colour of the image comes through (not the gray version), the ellipses are half the size they were (but still grey and different opacity's), and there are almost triple the amount of ellipses compared to the orignal large 6 ellipses. This is because the feedback I received was to think about how to bring more texture into the background, and it was suggested to make these changes or similar. It was stated that the amount of gray was taking away from the focus of the image – this being my cat – and made the background look quite flat. I think I like this look a lot better, as the texture is a lot better in the background now, and you can understand the environment my cat is in better now that it is more visible. In output 1 (for example) you can see the carpet and its textue, and Felicity looks grounded rather than looking like she's floating in the air – which is what it looked like with the grayscale background image with the gray circles over the top.

The more I looked at the background with the grey ellipses and the original colour of the background, the more I thought it needed improvement. Another suggestion was to explore how cats see the world e.g., what colours they see. I researched this, and cats see yellow, blue, gray, and sometimes green shades. I messed around with HSB colour mode and managed to change the grey into more of a yellow colour, but then the halo blended in to much ,so I had to increase the transparency from 25 to 50. I think this works quite nicely because the yellow of the halo is nice and bright and highlights my cat. As the yellow tinge in the background plays off of what cats can see colour wise, and makes the background more textured (as you see more of the original image). The image also isn't as dull and distracting as the gray was, and isn't as bright as the original image colour. I think the narrative of a cat's life is more evident now by having the yellow tinge that cats can see. The feedback on the yellow tinge background was really positive! After further feedback, it was suggested to try more of a bokeh effect using the ellipses I was initially using. White ellipses with a 20% opacity looked best for this. The 15 or so ellipses I had in the gray, were now changed to white, but it still didn't look right. So it was suggested to have more ellipses with drastcially different sizes – really tiny, medium, and large. I was worried that this might take away from the focus of the halo and the cat, bceause the halo and the background ellipses both utilise transparency. However, what I decided was instead of covering the whole background with ellipses, why don't I have more background showing – so that the ellipses only fill up some of the background. Instead of mannually going through and placing ellipses in specific spots like I had been, I tried using random for the x & y position and the size of the ellipses. This worked really well and gave the exact bokeh look I was trying to achieve – as you can see some background still, and it doesn't overpower the background. Also, this effect gives the background more texture and achieves the blur/faded look in the background – so that the cat and halo stand out the most! I also really loved this bokeh effect because it shows how cats are playful and all over the place!  

I went back on what I had stated earlier, and I decided that the 10 point radius of the ellipses that make up the pixelation design of my cat give enough softness to the image when paired with the use of different opacitiy's in the background design. All together, I felt I was a achieving a nice soft look. 

Since I need to apply my pixelation design to 6 images (3 masks done by me, and 3 done by the AI), I tested how the design looked on some of my other image's. When I did this, I noticed that the halo just disappeared – the only time I saw it was on input 6, which is the image I have been using when designing the custom filter. This was very strange, so I knew the code for this halo needed to be edited so that no matter where felicity is in each image, the halo draws behind her. I thought having the ellipses coded within the context of the mask of felicity, that this would mean that the halo would move with the mask, but it didn't. So, this is something that i needed to continue to test and ask about, as I was stumped. After asking, I've tried using if statements and two arrays – one for halo x and one halo y – to get the halo to move with the mask when I switch between input images. The array was working successfully, but the if statements weren't quite working as mutliple halos were being drawn in different spots instead of one halo per input image, so I had to go back and ask again. After asking again and a simple fix, the halo now draws correctly – one halo behind the cat mask per image! However, now that this was fixed I was reminded that since the objective of this project was to create a "smart camera" that applies my custom pixel filter to images of cats, ideally, I shouldn't be hard coding my halo design. This is because I was placing the halo for each image at specific x and y positions (because the cat moves in each image, so I needed to move the halo with it). This is because hard coding the halo defeats the purpose of the smart camera, because any new images that are put into the code will not have a halo behind felicity – as the halo only works when I give it co-ordinates and create an if statement, so that the halo appears for that image. Instead of hard coding the design, it was suggested to use a piece of code that finds the center of the mask, and then coding the halo to the center of the mask, so that whenever a new image is added, a halo would appear behind my cat, no matter the location of my cat in the image. I had tried this initially, and it had moved the halo behind felicity for each image. However, the only flaw was that on images 4 and 6, the halo would be applied quite low down on felicity, so it looked like the halo was out of place – which it was. As I didn't want the halo hard coded and wanted to take on board this suggestion to use the mask center code covered in class, I asked how to fix this. The example mask center code was adjusted by Tom and shared with me, so that I was able to try out the adjusted code – which worked really well!! Now I had a halo that moved with the mask, and no matter what image is inputed, the halo will appear behind Felicity's head/upper body. I noted that for images 4 and 6, the halo was almost perfect, however, it was still down a little lower than I had hoped. This is because the halo wasn't directly behind her head; instead the halo's center is behind her upper body, and therefore, the outer-most ring of the halo doesn't quite go behind the upper half of her ears. There was the option to adapt this slightly to move all the halos up a bit. However, the halos in the other four images looked perfect, therefore, I decided not to. I also chose to leave the halos as is because it adds a quirkiness to the piece, and shows how not everything in code will turn out perfectly – there's always some challenges. It also adds to the concept of a cat being a bit all over the place, and unpredictable – which I really like!   


The output images:

You'll notice that not all my output images have multiple cats in them – some just have my cat Felicity. I chose to make output 1 (the first training image that uses a mask that I created) and output 4 (the first testing image that the AI made a mask for) just image's of Felicity with the custom filter applied. This is because I wanted to showcase how I started out – this being just using images of Felicity and no other cats – to how I managed to train the AI to just recognise Felicity when there were other cats in the image with Felciity. To me this made sense because it showcased the development of the project and the development of the AI in creating masks of just my cat – even with obstacles such as another cat in the image. 

Final thoughts:

Overall, I am very happy with the final outcome and all six outputs that I have created. I think I have captured a cat's life well and been able to communicate my ideas visually through the application of this custom filter, and the use of AI training. I'm really pleased with the effect of the halo, as it certianly makes my cat out to be a godess – like she thinks she is! I also love the yellow tinged background combined with the bokeh effect, as I feel it adds a nice depth to the image and communicates that Felicity and her halo are the focus of the image.  In summary, I had a lot of fun experimenting with this project!!


Note: All images of my black and white cat Felicity are my own. The image of the cat lying down in the background of output 6 is my own. All other cat images are from the internet and have been linked down below. 

References (for cat images that I used from the internet to photoshop in with my own cat):

https://go-solutions.com/en-ca/help-my-cat-has-struvite-crystals-what-do-i-feed-them 

https://www.vecteezy.com/photo/2098204-silver-tabby-cat-sitting-on-green-background 

https://depositphotos.com/photo/ginger-persian-cat-7135416.html 

https://pixabay.com/photos/cat-pet-animal-orange-prowl-4889739/ 

https://modkat.com/blogs/modkat-purrr/outdoor-litter-boxes-the-pros-and-cons 

